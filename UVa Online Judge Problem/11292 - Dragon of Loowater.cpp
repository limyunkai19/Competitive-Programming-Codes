#include <iostream>using namespace std;int n, a[105][105], arr[105];int find_max_sum(int b[]){	int sum, max_sum = -128*100*100, cur, x;	x = 0;	sum = b[0];	while(b[x] < 0 && x < n){		x++;		sum = min(sum, b[x]);	}	if(x == n){		return sum;	}	cur = 0;	for(int i = x; i < n; i++){		cur += b[i];		max_sum = max(cur, max_sum);		if(cur < 0){			cur = 0;		}	}	return max_sum;}int main() {	int max_sum = -128*100*100, sum, cur, x, y;	cin >> n;	for(int i = 0; i < n; i++){		for(int j = 0; j < n; j++){			cin >> a[i][j];		}	}		for(int r1 = 0; r1 < n; r1++){		for(int i = 0; i < n; i++){			arr[i] = a[r1][i];		}		max_sum = max(max_sum, find_max_sum(arr));				for(int r2 = r1+1; r2 < n; r2++){			for(int i = 0; i < n; i++){				arr[i] += a[r2][i]; 			}			max_sum = max(max_sum, find_max_sum(arr));		}	}	cout << max_sum << endl;	return 0;}